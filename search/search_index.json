{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Hello world","text":"<p>Welcome to my mind</p>"},{"location":"#index","title":"Index","text":"<p>If you are just starting out, below you will find a suggestion of where to start.</p> <ul> <li>Guides - Guides about technologies and methodologies</li> <li>Best Practices - The name already says. best practices</li> <li>Articles - Articles on technologies and methodologies</li> <li>Templates - Templates to help with documentation</li> <li>To do - Things I'm going to do</li> <li>Changelog - My changelog</li> </ul>"},{"location":"#questions","title":"Questions","text":"<p>contact me @mardden (Marden Alcantara)</p>"},{"location":"changelog/","title":"hello world","text":"<p>I'm here</p>"},{"location":"todo/","title":"hello world","text":"<p>I'm here</p>"},{"location":"articles/ci-cd/","title":"hello world","text":"<p>I'm here</p>"},{"location":"best_practices/gitflow/","title":"hello world","text":"<p>I'm here</p>"},{"location":"guides/linux/apache2.4/","title":"hello world","text":"<p>I'm here</p>"},{"location":"guides/linux/fortigate-vpn/","title":"Fortigate VPN","text":"<p>Como instalar e configurar uma vpn via cli no Ubuntu 22.04</p>"},{"location":"guides/linux/fortigate-vpn/#instalacao","title":"Instala\u00e7\u00e3o","text":"<pre><code>apt install openfortivpn\n</code></pre>"},{"location":"guides/linux/fortigate-vpn/#configuracao","title":"Configura\u00e7\u00e3o","text":"<pre><code>cat &lt;&lt;EOF &gt;/etc/openfortivpn/config\n# Exemplo:\n#host = vpn.nasa.com\n#port = 10443 # caso seja padrao, manter comentado\n#username = alf\n#password = gatocommolhoapimentado\nEOF\n</code></pre>"},{"location":"guides/linux/fortigate-vpn/#executando","title":"Executando","text":"<pre><code>sudo openfortivpn\n</code></pre>"},{"location":"guides/linux/fortigate-vpn/#fonte","title":"Fonte","text":"<p>using openfortivpn</p>"},{"location":"guides/linux/rsync/","title":"Rsync","text":""},{"location":"guides/linux/rsync/#exclude","title":"Exclude","text":"<p>Como excluir arquivo/diret\u00f3rio da lista do que ser\u00e1 sincronizado.</p> <pre><code># Excluir um arquivo espec\u00edfico\nrsync -av --exclude 'test.txt' sourcedir/ destinationdir/\n\n# Excluir um diret\u00f3rio\nrsync -av --exclude 'dir1' sourcedir/ destinationdir/\n\n# Excluir com wildcard\nrsync -av --exclude 'test*' sourcedir/ destinationdir/\n\n# Excluir arquivos por tamanho. no exemplo maiores que 100MB\nrsync -av --max-size=100m sourcedir/ destinationdir/\n\n# Excluir arquivos por tamanho. no exemplo menores que 100MB\nrsync -av --min-size=100m sourcedir/ destinationdir/\n\n# Excluir v\u00e1rios arquivos/diret\u00f3rios\nrsync -av --exclude '*.txt' --exclude 'dir1' sourcedir/ destinationdir/\nrsync -av --exclude={'*.txt','dir1'} sourcedir/ destinationdir/\n\n# Excluir baseado em uma lista\ncat &lt;&lt;EOF &gt;lista.txt\n*.txt\ndir1\nEOF\nrsync -av --exclude-from={'lista.txt'} sourcedir/ destinationdir/\n</code></pre>"},{"location":"guides/linux/rsync/#source","title":"Source","text":"<p>https://phoenixnap.com/kb/rsync-exclude-files-and-directories</p>"},{"location":"guides/linux/tar_openssl/","title":"Tar com openssl","text":""},{"location":"guides/linux/tar_openssl/#sobre","title":"Sobre","text":"<p>Esse guia descreve os passos como usar o openssl para criptografar um arquivo tar.gz. \u00datil para executar backup e armazenar em locais pouco confi\u00e1veis.</p>"},{"location":"guides/linux/tar_openssl/#backup","title":"Backup","text":""},{"location":"guides/linux/tar_openssl/#como-compactar","title":"Como compactar","text":"<pre><code># com prompt para senha\ntar zc diretorioX | openssl enc -aes-256-cbc -iter 2 &gt; diretorioX.tar.gz.enc\n\n# sem prompt para senha\ntar zc diretorioX | openssl enc -aes-256-cbc -iter 2 -pass pass:MINHA_SENHA&gt; diretorioX.tar.gz.enc\n</code></pre>"},{"location":"guides/linux/tar_openssl/#exemplo-de-script-para-backup","title":"Exemplo de script para backup","text":"<pre><code>cat &lt;&lt;EOF &gt; fazer_backup.py\n#!/usr/bin/env python\nimport os\nfrom datetime import date\ntoday = date.today()\ndate = today.strftime('%Y%m%d')\ntar = 'tar --exclude=\"/home/marden/.vscode-server\" -zc /home/marden | '\nopenssl = 'openssl enc -aes-256-cbc -iter 2 -pass pass:MINHA_SENHA &gt; \"'\nfile = '/mnt/c/wetware/backup/wsl2-' + date + '.tar.gz.enc\"'\nbackup = tar + openssl + file\nf = os.popen(backup)\nprint(f)\nEOF\n</code></pre>"},{"location":"guides/linux/tar_openssl/#restore","title":"Restore","text":""},{"location":"guides/linux/tar_openssl/#como-descompactar","title":"Como descompactar","text":"<pre><code># com prompt para senha\nopenssl enc -aes-256-cbc -iter 2 -d -in diretorioX.tar.gz.enc | tar zx\n\n# sem prompt para senha\nopenssl enc -aes-256-cbc -iter 2 -d -in diretorioX.tar.gz.enc -pass pass:MINHA_SENHA | tar zx\n</code></pre>"},{"location":"guides/linux/tips/","title":"Adicionando novo disco","text":"<pre><code>#descobrir o nome do device que foi adicionado\nlsblk\n\n#confirmar q \u00e9 um disco vazio\nfile -s /dev/sdb\n/dev/sdb: data\n\n#formantando o disco com xfs\nmkfs -t xfs /dev/sdb\n\n#confirmar com o file\nfile -s /dev/sdb\n/dev/sdb: SGI XFS filesystem\n\n#pegar o UUID do disco\nblkid\n/dev/sdb: UUID:\"WR34234-234234234-EFSFDSFS-234234234-SDFSDF\" TYPE=\"xfs\"\n#adicionar no /etc/fstab\necho \"UUID:WR34234-234234234-EFSFDSFS-234234234-SDFSDF   /novodisco   xfs   default  0 0\" &gt;&gt; /etc/fstab\n\n#boot para testar a montagem automatica da particao\nreboot\n</code></pre>"},{"location":"guides/linux/tips/#ssl","title":"SSL","text":"<p>Read the SSL Certificate information from a text-file</p> <pre><code>openssl x509 -text -noout -in certificado.crt\n</code></pre> <p>Read the SSL Certificate information from a site</p> <pre><code>echo | openssl s_client -connect marden.io:443\n</code></pre>"},{"location":"guides/linux/tips/#copia-de-link-fisico","title":"C\u00f3pia de link f\u00edsico","text":"<pre><code>rsync origem copia\ncp -al copia copia-20230101\n</code></pre> <p>Nessa c\u00f3pia de link f\u00edsico teremos dois arquivos apontando para o mesmo inodo. O inode em um desses arquivos s\u00f3 \u00e9 modificado se o mesmo for apagado e recriado. Copiar por cima ou editar o arquivo mant\u00e9m o inode igual.</p> <pre><code>ls -la origem/arquivo1 copia/arquivo1 copia-20230101/arquivo1\n143465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 origem/arquivo1\n143465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 copia/arquivo1\n143465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 copia-20230101/arquivo1\n\nrm -f copia/arquivo1\ntouch copia/arquivo1\n\nls -la origem/arquivo1  copia/arquivo1 copia-20230101/arquivo1\n143465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 origem/arquivo1\n243468899 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 copia/arquivo1\n143465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 copia-20230101/arquivo1\n</code></pre> <p>Usando o rsync, se um arquivo em origem for modificado, o rsync remove o antigo de copia e copia o novo para copia. Neste momento, o arquivo em copia-20230101 ser\u00e1 o antigo.</p> <pre><code>rsync origem copia\ncp -al copia copia-20230101\n\nls -la origem/arquivo1 copia/arquivo1 copia-20230101/arquivo1\n143465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 origem/arquivo1\n143465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 copia/arquivo1\n143465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 copia-20230101/arquivo1\n\necho \"teste\" origem/arquivo1\nrsync origem copia\nls -la origem/arquivo1 copia/arquivo1 copia-20230101/arquivo1\n333465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 origem/arquivo1\n333465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 copia/arquivo1\n143465656 -rw-r--r-- 1 root root 4.4K Feb  2 10:22 copia-20230101/arquivo1\n</code></pre>"},{"location":"guides/linux/tips/#mysql-listar-tamanho-das-tabelas","title":"Mysql - listar tamanho das tabelas","text":"<pre><code># Listar do menor para o maior\nSELECT table_name AS `Table`, round(((data_length + index_length) / 1024 / 1024), 2) `Size (MB)`\nFROM information_schema.TABLES\nWHERE table_schema = '&lt;nome_do_banco&gt;'\nORDER BY (data_length + index_length) ASC;\n# Listar do maior para o menor\nSELECT table_name AS `Table`, round(((data_length + index_length) / 1024 / 1024), 2) `Size (MB)`\nFROM information_schema.TABLES\nWHERE table_schema = '&lt;nome_do_banco&gt;'\nORDER BY (data_length + index_length) DESC;\n</code></pre>"},{"location":"guides/linux/tips/#mysql-listando-o-tipo-de-tabela","title":"Mysql - listando o tipo de tabela","text":"<pre><code>SELECT table_name, engine\nFROM information_schema.tables\nWHERE table_schema = '&lt;nome_do_banco&gt;'\n</code></pre>"},{"location":"guides/linux/tips/#mysql-listar-o-tamanho-da-base","title":"Mysql - listar o tamanho da base","text":"<pre><code>SELECT table_schema AS '&lt;nome_do_banco&gt;',\nsum(data_length + index_length) / 1024 / 1024 AS \"Tamanho (MB)\"\nFROM information_schema.TABLES\nGROUP BY table_schema;\n</code></pre>"},{"location":"guides/linux/tips/#mysql-listar-o-nivel-de-isolamento","title":"Mysql - listar o n\u00edvel de isolamento","text":"<pre><code>SELECT @@global.tx_isolation AS \"N\u00edvel de isolamento global\",\n@@tx_isolation AS \"N\u00edvel de isolamento atual\";\n</code></pre> <p>Esta consulta retorna duas colunas: \"N\u00edvel de isolamento global\" e \"N\u00edvel de isolamento atual\". A primeira coluna exibe o valor do n\u00edvel de isolamento global definido para o servidor MySQL, enquanto a segunda coluna exibe o valor do n\u00edvel de isolamento atual em uso pela conex\u00e3o atual.</p>"},{"location":"guides/linux/tips/#arquivos-duplicados","title":"Arquivos Duplicados","text":"<p>Como encontrar arquivos duplicados em um diret\u00f3rio</p> <pre><code>apt install fdupes\nfdupes -r /var/www\n</code></pre>"},{"location":"guides/wsl2/wsl2-docker/","title":"WSL 2 - docker","text":""},{"location":"guides/wsl2/wsl2-docker/#instalando-o-docker-no-ubuntu-wsl2","title":"Instalando o docker no ubuntu (wsl2)","text":"<p>Os passos a seguir j\u00e1 devem ser executados no Ubuntu do WSL 2.</p> <p>Atualizar S.O.</p> <pre><code>sudo apt update\nsudo apt upgrade\n</code></pre> <p>Instalar pacotes pr\u00e9-requisito para o apt suportar pacotes via HTTPS:</p> <pre><code>sudo apt install apt-transport-https ca-certificates curl software-properties-common\n</code></pre> <p>Adicionar a chave GPG para o reposit\u00f3rio oficial do Docker no seu sistema:</p> <pre><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -\n</code></pre> <p>Adicionar o reposit\u00f3rio do Docker \u00e0s fontes do APT:</p> <pre><code>sudo add-apt-repository \"deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable\"\n</code></pre> <p>Atualizar a base do apt:</p> <pre><code>sudo apt update\n</code></pre> <p>Certificar-se de que o reposit\u00f3rio do Docker est\u00e1 ativo no Ubuntu:</p> <pre><code>apt-cache policy docker-ce\n\ndocker-ce:\n  Instalado: (nenhum)\nCandidato: 5:20.10.12~3-0~ubuntu-focal\n  Tabela de vers\u00e3o:\n</code></pre> <p>Instalar o Docker</p> <pre><code>sudo apt install docker-ce docker-compose\n</code></pre> <p>Verificar se o docker foi instalado</p> <pre><code>sudo service docker start\nps fax | grep docker\n</code></pre>"},{"location":"guides/wsl2/wsl2-docker/#rodando-o-docker-sem-o-sudo","title":"Rodando o docker sem o sudo","text":"<p>Adicionar seu usu\u00e1rio no grupo do docker</p> <pre><code>sudo usermod -aG docker ${USER}\n</code></pre> <p>Para que a altera\u00e7\u00e3o seja ativada, \u00e9 necess\u00e1rio fazer um logoff ou executar o comando abaixo:</p> <pre><code>su - ${USER}\n</code></pre> <p>Confirmar se seu usu\u00e1rio faz parte do grupo docker</p> <pre><code>id -nG\n</code></pre>"},{"location":"guides/wsl2/wsl2-docker/#erro-ao-iniciar-o-docker-no-ubuntu-2204","title":"Erro ao iniciar o Docker no Ubuntu 22.04","text":"<p>Se ap\u00f3s o iniciar o servi\u00e7o do Docker, estiver apresentando o erro Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running? ao rodar o docker ps, siga os passos abaixo para corrigir:</p> <pre><code>sudo update-alternatives --config iptables\n# escolha a op\u00e7\u00e3o 1 iptables-legacy\nsudo service docker start\n</code></pre>"},{"location":"guides/wsl2/wsl2-docker/#dica-para-windows-11","title":"Dica para Windows 11","text":"<p>No Windows 11 permite especificar comandos para serem executados assim que o WSL for iniciado. Vamos colocar o daemon do docker para iniciar automaticamente:</p> <pre><code>sudo vim /etc/wsl.conf\n[boot]\ncommand=\"service docker start\"\n</code></pre> <p>Saia do WSL (Ubuntu), abra o Powershell e reinicie o WSL:</p> <pre><code>PS C:\\&gt; wsl --shutdown\n</code></pre>"},{"location":"guides/wsl2/wsl2-docker/#fonte","title":"Fonte","text":"<ul> <li>wsl2 docker quickstart</li> <li>MIT Cloud DevOps</li> <li>how to install and use docker on ubuntu 20.04</li> <li>docker engine docker nativo diretamente instalado no wsl2</li> </ul>"},{"location":"guides/wsl2/wsl2-install/","title":"WSL 2 - install","text":""},{"location":"guides/wsl2/wsl2-install/#instalando-o-wsl2-ubuntu","title":"Instalando o WSL2 + Ubuntu","text":""},{"location":"guides/wsl2/wsl2-install/#pre-requisitos","title":"Pr\u00e9-requisitos","text":"<ul> <li>Windows 10 Home ou Professional (vers\u00e3o 20.04 ou superior)</li> <li>Conta no Docker Hub (opcional para fazer pull de imagens)</li> <li>4GB de RAM ou mais</li> </ul>"},{"location":"guides/wsl2/wsl2-install/#ativar-o-wsl-no-windows-10-via-powershell","title":"Ativar o WSL no Windows 10 (via powershell)","text":"<p>Execute o Powershell como administrador.</p> <pre><code>PS C:\\&gt; Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux\nPS C:\\&gt; dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart\n</code></pre> <p>Para confirmar, ainda no powershell digite:</p> <pre><code>PS C:\\&gt; wsl\n</code></pre> <p>Reinicie o Windows para concluir a instala\u00e7\u00e3o do WSL.</p>"},{"location":"guides/wsl2/wsl2-install/#instalar-o-wsl-2","title":"Instalar o WSL 2","text":"<p>Baixar o kernel do WSL 2 do link https://docs.microsoft.com/pt-br/windows/wsl/wsl2-kernel e instalar o pacote.</p>"},{"location":"guides/wsl2/wsl2-install/#ativar-o-wsl-2","title":"Ativar o WSL 2","text":"<pre><code>PS C:\\&gt; wsl --set-default-version 2\n</code></pre>"},{"location":"guides/wsl2/wsl2-install/#via-microsoft-store","title":"Via Microsoft Store","text":"<p>Instalar o Ubuntu 20.04</p> <p></p> <p></p> <p></p> <p></p>"},{"location":"guides/wsl2/wsl2-install/#verificar-se-o-ubuntu-2004-esta-com-wsl-2","title":"Verificar se o Ubuntu 20.04 est\u00e1 com WSL 2","text":"<pre><code>PS C:\\&gt; wsl -l -v\nNAME  STATE  VERSION\n* Ubuntu-20.04  Stopped  2\n</code></pre>"},{"location":"guides/wsl2/wsl2-install/#fonte","title":"Fonte","text":"<ul> <li>Thomas Maurer - Install WSL 2 on Windows 10</li> <li>Microsoft - Guia de instala\u00e7\u00e3o wsl2</li> </ul>"},{"location":"guides/wsl2/wsl2-zsh/","title":"WSL 2 - zsh","text":""},{"location":"guides/wsl2/wsl2-zsh/#instalando-o-zsh-no-ubuntu","title":"Instalando o zsh no Ubuntu","text":"<pre><code> $ sudo apt install zsh\n</code></pre>"},{"location":"guides/wsl2/wsl2-zsh/#editar-o-bashrc-e-trocar-o-bash-pelo-zsh","title":"Editar o .bashrc e trocar o bash pelo zsh","text":"<pre><code> $ vim .bashrc\n # inserir no in\u00edcio do arquivo\nif test -t 1; then\nexec zsh\n   fi\n</code></pre>"},{"location":"guides/wsl2/wsl2-zsh/#testar-o-zsh","title":"Testar o zsh","text":"<p><pre><code> $ zsh\n</code></pre> </p>"},{"location":"guides/wsl2/wsl2-zsh/#instalar-o-oh-my-zsh","title":"Instalar o oh-my-zsh","text":"<pre><code> $ sh -c \"$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"\n</code></pre>"},{"location":"guides/wsl2/wsl2-zsh/#modificar-o-tema-do-zsh","title":"Modificar o tema do zsh","text":"<pre><code> $ vim .zshrc\n # substitua\n# ZSH_THEME=\"robbyrussell\"\n#por\nZSH_THEME=\"agnoster\"\n</code></pre>"},{"location":"guides/wsl2/wsl2-zsh/#instalar-fontes","title":"Instalar fontes","text":"<p>Ainda dentro do Ubuntu execute: <pre><code> $ git clone https://github.com/powerline/fonts.git\n $ mkdir /mnt/c/fontes\n $ cp -r fonts /mnt/c/fontes\n $ rm -rfv fonts\n</code></pre> Via Powershell execute <pre><code> c:\\&gt;cd fontes\\fonts\n# desativar a politica de execu\u00e7\u00e3o de script\nc:\\&gt; set-executionpolicy remotesigned (y)\n# instalar as fontes\nc:\\&gt;.\\install.ps1\n# reativar pol\u00edtica de execu\u00e7\u00e3o\nc:\\&gt; set-executionpolicy remotesigned (n)\n</code></pre></p>"},{"location":"guides/wsl2/wsl2-zsh/#alterar-a-fonte-padrao-para-ubuntu-mono-derivative-powerlin","title":"Alterar a fonte padr\u00e3o para Ubuntu Mono derivative Powerlin","text":"<p>Acesse as propriedades e mude a fonte conforme as imagens abaixo:</p> <p></p> <p></p> <p></p>"},{"location":"guides/wsl2/wsl2-zsh/#integrar-o-ubuntu-ao-vs-code","title":"Integrar o ubuntu ao VS Code","text":"<p>Download VSCODE</p> <p>Ap\u00f3s a instala\u00e7\u00e3o, o vscode vai sugerir instalar a extens\u00e3o WSL </p>"},{"location":"guides/wsl2/wsl2-zsh/#abrir-o-terminal-e-modificar-a-fonte-conforme-imagem-abaixo","title":"Abrir o terminal e modificar a fonte conforme imagem abaixo:","text":"<pre><code>\"editor.fontFamily\": \"'Ubuntu Mono derivative Powerline',Consolas, 'Courier New', monospace\",\n</code></pre>"},{"location":"guides/wsl2/wsl2-zsh/#abrir-um-diretorio-do-ubuntu-dentro-do-vscode","title":"Abrir um diret\u00f3rio do Ubuntu dentro do VSCODE","text":""},{"location":"guides/wsl2/wsl2-zsh/#repositorio-git","title":"Reposit\u00f3rio git","text":"<p>Perceba que, ao modificar qualquer arquivo, o VSCODE e o zsh ir\u00e3o acompanhar o status do reposit\u00f3rio. </p> <p></p>"},{"location":"guides/wsl2/wsl2-zsh/#fontes","title":"Fontes","text":"<ul> <li> <p>Thomas Maurer - Install WSL 2 on Windows 10</p> </li> <li> <p>Microsoft - Guia de instala\u00e7\u00e3o wsl2</p> </li> </ul>"},{"location":"templatess/template_articles/","title":"hello world","text":"<p>I'm here</p>"},{"location":"templatess/template_best_practices/","title":"hello world","text":"<p>I'm here</p>"},{"location":"templatess/template_guides/","title":"hello world","text":"<p>I'm here</p>"}]}